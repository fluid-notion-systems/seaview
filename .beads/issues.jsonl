{"id":"seaview-8aa","title":"Per-directory settings (seaview.toml)","description":"Save and load per-directory settings as seaview.toml in the viewed directory. Initial focus: camera position, source coordinates, playback speed, loop toggle. Settings are loaded on startup and saved via UI controls (e.g. Save Camera button).","status":"closed","priority":1,"issue_type":"feature","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:40:55.56389418+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T22:49:55.916320464+08:00","closed_at":"2026-02-12T22:49:55.916320464+08:00","close_reason":"Closed"}
{"id":"seaview-8aa.1","title":"Define Settings struct with TOML serialization","description":"Create a Settings struct in a new settings module (lib/settings.rs):\n\n- camera_position: [f32; 3] (translation)\n- camera_rotation: [f32; 4] (quaternion) or [f32; 3] (euler angles - more human-editable)\n- source_coordinates: String (yup/zup/fluidx3d)\n- playback_speed: f32\n- loop_enabled: bool\n\nUse serde + toml crate for serialization. The struct should have sensible defaults via Default trait. Add toml and serde dependencies to Cargo.toml.","status":"closed","priority":1,"issue_type":"task","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:41:01.895595104+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T22:47:24.889694327+08:00","closed_at":"2026-02-12T22:47:24.889694327+08:00","close_reason":"Closed","dependencies":[{"issue_id":"seaview-8aa.1","depends_on_id":"seaview-8aa","type":"parent-child","created_at":"2026-02-12T22:41:01.896948509+08:00","created_by":"Nicholas Hemsley"}]}
{"id":"seaview-8aa.2","title":"Load seaview.toml on startup","description":"When seaview opens a directory or file:\n\n1. Resolve the target directory (parent dir if file, dir itself if directory)\n2. Check for seaview.toml in that directory\n3. Deserialize into Settings struct\n4. Insert as a Bevy Resource\n5. Apply settings:\n   - Camera: set Transform on camera entity\n   - Source coords: override CLI default (CLI flag should still win if explicitly set)\n   - Playback: set speed and loop on UiState\n\nPrecedence: CLI flags \u003e seaview.toml \u003e built-in defaults","status":"closed","priority":1,"issue_type":"task","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:41:08.571594749+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T22:49:51.642424025+08:00","closed_at":"2026-02-12T22:49:51.642424025+08:00","close_reason":"Closed","dependencies":[{"issue_id":"seaview-8aa.2","depends_on_id":"seaview-8aa","type":"parent-child","created_at":"2026-02-12T22:41:08.572838693+08:00","created_by":"Nicholas Hemsley"}]}
{"id":"seaview-8aa.3","title":"Save Camera button in UI","description":"Add a Save Camera (ðŸ’¾) button to the playback controls bar:\n\n1. Read current camera Transform (translation + rotation)\n2. Load existing seaview.toml if present (preserve other settings)\n3. Update camera fields\n4. Write back to seaview.toml in the sequence directory\n5. Show brief confirmation in UI (e.g. toast/info message)\n\nThe button should sit near the existing center-camera (ðŸŽ¯) button. Needs to know the sequence directory path - get from Args resource or SequenceManager.","status":"closed","priority":1,"issue_type":"task","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:41:15.555275104+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T22:49:51.683595712+08:00","closed_at":"2026-02-12T22:49:51.683595712+08:00","close_reason":"Closed","dependencies":[{"issue_id":"seaview-8aa.3","depends_on_id":"seaview-8aa","type":"parent-child","created_at":"2026-02-12T22:41:15.556594967+08:00","created_by":"Nicholas Hemsley"}]}
{"id":"seaview-8aa.4","title":"Save playback settings to seaview.toml","description":"Auto-save or manual-save playback settings (speed, loop) to seaview.toml. Options:\n\n- Option A: Save automatically when changed (may be noisy)\n- Option B: Save when Save Camera is pressed (bundle with camera save)\n- Option C: Separate 'Save Settings' button\n\nRecommendation: Option B - bundle with camera save. The save button becomes 'Save View' and writes camera + playback state together.","status":"closed","priority":2,"issue_type":"task","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:41:21.577714666+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T22:49:55.876382527+08:00","closed_at":"2026-02-12T22:49:55.876382527+08:00","close_reason":"Closed","dependencies":[{"issue_id":"seaview-8aa.4","depends_on_id":"seaview-8aa","type":"parent-child","created_at":"2026-02-12T22:41:21.579127821+08:00","created_by":"Nicholas Hemsley"}]}
{"id":"seaview-brc","title":"Night simulation lighting system","description":"Add a configurable lighting system for simulating night-time viewing conditions with adjustable point lights placed above the scene.\n\nKey features:\n- N point lights, adjustable via slider\n- Grid-based placement with multiple plane-filling algorithms (selectable via chooser)\n- Configurable height above sea level (metres), adjustable via slider\n- Configurable light throw angle (downward cone angle)\n\nThis is useful for visualising fluid simulations under realistic night-time illumination (e.g. flood lighting, search lights).","status":"closed","priority":2,"issue_type":"feature","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:54:33.858054611+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T23:03:56.256732344+08:00","closed_at":"2026-02-12T23:03:56.256732344+08:00","close_reason":"Closed"}
{"id":"seaview-brc.1","title":"N point lights with grid placement","description":"Spawn N SpotLight entities in a grid pattern above the scene.\n\n- N adjustable via egui slider (e.g. 1â€“100)\n- Grid layout: distribute lights evenly across the scene bounding box\n- Lights should be SpotLights (not PointLights) so we can control the cone angle\n- Store as a resource (NightLightingConfig) so it's reactive to slider changes\n- Despawn/respawn lights when N changes","status":"closed","priority":2,"issue_type":"task","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:54:40.516774224+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T23:03:53.097656187+08:00","closed_at":"2026-02-12T23:03:53.097656187+08:00","close_reason":"Closed","dependencies":[{"issue_id":"seaview-brc.1","depends_on_id":"seaview-brc","type":"parent-child","created_at":"2026-02-12T22:54:40.517890209+08:00","created_by":"Nicholas Hemsley"}]}
{"id":"seaview-brc.2","title":"Plane-filling algorithm chooser for light placement","description":"Implement multiple algorithms for distributing N lights across the scene area, with a dropdown selector in the UI.\n\nAlgorithms to consider:\n- Uniform grid (rows x cols closest to sqrt(N))\n- Hexagonal packing (offset rows for better coverage)\n- Poisson disk sampling (random but evenly spaced)\n- Single row / single column (for directional setups)\n\nUI: egui ComboBox to select the active algorithm. Lights reposition when algorithm changes.","status":"closed","priority":2,"issue_type":"task","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:54:48.296594084+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T23:03:53.100918137+08:00","closed_at":"2026-02-12T23:03:53.100918137+08:00","close_reason":"Closed","dependencies":[{"issue_id":"seaview-brc.2","depends_on_id":"seaview-brc","type":"parent-child","created_at":"2026-02-12T22:54:48.297775862+08:00","created_by":"Nicholas Hemsley"}]}
{"id":"seaview-brc.3","title":"Height above sea level slider","description":"Add an egui slider controlling the Y-position (height) of all night lights.\n\n- Label: 'Height (m)' \n- Range: e.g. 5â€“500m, logarithmic scale might feel better\n- Updates all light Transform.translation.y in real time\n- Default to something sensible relative to mesh bounding box (e.g. 2x mesh height)","status":"closed","priority":2,"issue_type":"task","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:55:08.183544268+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T23:03:53.103939369+08:00","closed_at":"2026-02-12T23:03:53.103939369+08:00","close_reason":"Closed","dependencies":[{"issue_id":"seaview-brc.3","depends_on_id":"seaview-brc","type":"parent-child","created_at":"2026-02-12T22:55:08.185342253+08:00","created_by":"Nicholas Hemsley"}]}
{"id":"seaview-brc.4","title":"Light throw angle (cone angle) slider","description":"Per-light angle widget for controlling cone/throw angle.\n\nApproach: Bevy built-in gizmos for 3D cone visualisation + egui panel for per-light controls.\n\nEach light gets:\n- A 3D cone wireframe gizmo (Gizmos::circle at the base + lines to apex) showing throw coverage\n- An egui slider in a lighting panel for its angle (5Â°â€“180Â°)\n- Gizmo updates in real time as slider changes\n\nFuture: consider transform-gizmo-bevy v0.8.0 (Bevy 0.16 compatible) for drag-to-position lights in the viewport.\n\nNo new crate dependencies needed for initial implementation.","status":"closed","priority":2,"issue_type":"task","owner":"nick.hems@gmail.com","created_at":"2026-02-12T22:55:14.078122394+08:00","created_by":"Nicholas Hemsley","updated_at":"2026-02-12T23:03:53.106847146+08:00","closed_at":"2026-02-12T23:03:53.106847146+08:00","close_reason":"Closed","dependencies":[{"issue_id":"seaview-brc.4","depends_on_id":"seaview-brc","type":"parent-child","created_at":"2026-02-12T22:55:14.079441851+08:00","created_by":"Nicholas Hemsley"}]}
